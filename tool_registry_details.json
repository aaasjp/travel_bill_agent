[
  {
    "name": "process_invoices",
    "description": "上传发票文件，进行OCR识别和真伪验证，返回可用的发票数据",
    "parameters": {
      "properties": {
        "file_paths": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "发票文件路径列表"
        },
        "user_id": {
          "type": "string",
          "description": "用户ID"
        },
        "auto_verify": {
          "type": "boolean",
          "default": true,
          "description": "是否自动进行真伪验证"
        }
      },
      "required": [
        "file_paths",
        "user_id"
      ]
    }
  },
  {
    "name": "manage_expense_records",
    "description": "根据发票创建支出记录，自动映射费用类型，返回需要补充的字段",
    "parameters": {
      "properties": {
        "invoice_ids": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "已验证的发票ID列表"
        },
        "supplement_data": {
          "type": "object",
          "description": "补充的支出记录信息（可选）"
        },
        "action": {
          "type": "string",
          "enum": [
            "create",
            "update",
            "validate"
          ],
          "default": "create",
          "description": "操作类型"
        }
      },
      "required": [
        "invoice_ids",
        "action"
      ]
    }
  },
  {
    "name": "manage_reimbursement",
    "description": "创建报销单，关联支出记录、出差申请和借款，保存报销单数据",
    "parameters": {
      "properties": {
        "action": {
          "type": "string",
          "enum": [
            "create",
            "link_travel",
            "link_loan",
            "supplement",
            "save"
          ],
          "description": "操作类型"
        },
        "bill_id": {
          "type": "string",
          "description": "报销单ID（create时不需要）"
        },
        "expense_record_ids": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "支出记录ID列表（create时需要）"
        },
        "link_data": {
          "type": "object",
          "description": "关联数据（link操作时需要）"
        },
        "supplement_data": {
          "type": "object",
          "description": "补充数据（supplement时需要）"
        }
      },
      "required": [
        "action"
      ]
    }
  },
  {
    "name": "submit_reimbursement",
    "description": "验证报销单的完整性和合规性，然后提交审批",
    "parameters": {
      "properties": {
        "bill_id": {
          "type": "string",
          "description": "报销单ID"
        },
        "validate_only": {
          "type": "boolean",
          "default": false,
          "description": "是否只验证不提交"
        }
      },
      "required": [
        "bill_id"
      ]
    }
  },
  {
    "name": "query_status",
    "description": "查询用户权限、报销单状态、审批进度、支付状态等信息",
    "parameters": {
      "properties": {
        "query_type": {
          "type": "string",
          "enum": [
            "permission",
            "bill_list",
            "approval",
            "payment"
          ],
          "description": "查询类型"
        },
        "user_id": {
          "type": "string",
          "description": "用户ID"
        },
        "bill_id": {
          "type": "string",
          "description": "报销单ID（查询特定单据时需要）"
        },
        "filters": {
          "type": "object",
          "description": "查询过滤条件"
        }
      },
      "required": [
        "query_type",
        "user_id"
      ]
    }
  },
  {
    "name": "query_travel_applications",
    "description": "查询用户的差旅申请单，包括可报销次数等信息",
    "parameters": {
      "properties": {
        "user_id": {
          "type": "string",
          "description": "用户ID"
        },
        "date_range": {
          "type": "object",
          "properties": {
            "start_date": {
              "type": "string"
            },
            "end_date": {
              "type": "string"
            }
          },
          "description": "日期范围"
        },
        "status_filter": {
          "type": "string",
          "enum": [
            "all",
            "reimbursable",
            "partially_reimbursed"
          ],
          "description": "状态过滤"
        }
      },
      "required": [
        "user_id"
      ]
    }
  },
  {
    "name": "process_allowance",
    "description": "检查和申请差旅补助",
    "parameters": {
      "properties": {
        "action": {
          "type": "string",
          "enum": [
            "check_eligibility",
            "apply_manual"
          ],
          "description": "操作类型"
        },
        "user_id": {
          "type": "string",
          "description": "用户ID"
        },
        "trip_order_id": {
          "type": "string",
          "description": "出差申请单ID"
        }
      },
      "required": [
        "action",
        "user_id",
        "trip_order_id"
      ]
    }
  }
]